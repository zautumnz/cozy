let e = core.event_emitter()
e.subscribe("foo", fn (x) { print("foo", x) })
e.emit("foo", "bar")
e.subscribe("foo", fn (x) { print("in another one", x) })
e.subscribe("quux", fn (x) { print("in quux", x) })
e.emit("quux", "how's it going?")
e.emit("foo", "baz")
e.emit("foo", "lastly")
print(util.len(e.get_events().keys()))
